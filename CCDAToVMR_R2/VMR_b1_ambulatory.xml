<?xml version="1.0" encoding="UTF-8"?>
<vmr xmlns="urn:hl7-org:v3:vmr:r3" xmlns:dt="urn:hl7-org:v3:cdsdt:r3"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="urn:hl7-org:v3:vmr:r3 ../schema/vmr/vmrHarness.xsd ">
	<!-- This VMR instance file is a partial equivalent of the CCDA file found 
		at http://bluebuttonplus.org/files/CCDA_CCD_b1_Ambulatory_v2.xml (accessed 
		on 20130823). The VMR file was created by Aziz Boxwala on 20130823 using 
		the VMR r3 schema that was the ballot candidate. -->
	<!-- Many items from the CCDA header did not transfer to the VMR file. These 
		include fields for informant, author, organization, guardian which do not 
		have an equivalent in the VMR. Only a representative sample of clinical statements 
		from the CCDA file are represented in this file. Additional annotations are 
		made on the differences between the VMR and CCDA files as comments below.
		For the most part, CCDA entries translated easily into VMR clinicalStatements, 
		and the transformation could largely be automated
		 -->
	<templateId root="TBD" />
	<patient>
		<templateId root="TBD" />
		<id extension="1" root="2.16.840.1.113883.4.6" />
		<!-- Used only the first id from the CCDA, since VMR allows one, CCDA allows 
			multiple -->
		<address use="HP">
			<!-- CCDA address schema has (sub)-element names for different parts of 
				the address, rather than using the type attribute to identify the part as 
				below -->
			<dt:part type="SAL" value="1357 Amber Drive" />
			<dt:part type="CTY" value="Beaverton" />
			<dt:part type="STA" value="OR" />
			<dt:part type="ZIP" value="97006" />
			<dt:part type="CNT" value="US" />
		</address>
		<name use="L">
			<!-- CCDA address schema has (sub)-element names for different parts of 
				the name, rather than using the type attribute of the part element to identify 
				the part as below -->
			<dt:part type="FAM" value="Jones" />
			<dt:part type="GIV" value="Myra" />
		</name>
		<telecom value="tel:(816)276-6909" use="HP" />
		<ethnicity code="2186-5" codeSystem="2.16.840.1.113883.6.238"
			codeSystemName="Race and Ethnicity - CDC">
			<dt:displayName value="Not Hispanic or Latino" />
		</ethnicity>
		<gender code="F" codeSystem="2.16.840.1.113883.18.2">
			<!-- Gender code system different than in CCDA - code system used here 
				is from VSAC. Though both systems eventually refer to the same HL7 admin 
				gender codes -->
			<dt:displayName value="Female" />
		</gender>
		<race code="2106-3" codeSystem="2.16.840.1.113883.6.238"
			codeSystemName="Race and Ethnicity - CDC">
			<dt:displayName value="White" />
		</race>
		<clinicalStatement xsi:type="AdverseEvent">
			<templateId root="2.16.840.1.113883.3.1829.11.3.1.2"
				identifierName='Adverse Event to Medication or Immunization' />
			<id root="36e3e930-7b14-11db-9fe1-0800200c9a66" />
			<adverseEventCode code="247472004" codeSystem="2.16.840.1.113883.6.96">
				<dt:displayName value="Hives" />
			</adverseEventCode>
			<adverseEventAgent code="7982" codeSystem="2.16.840.1.113883.6.88"
				codeSystemName="RxNorm">
				<dt:displayName value="Penicillin G benzathine" />
			</adverseEventAgent>
			<adverseEventTime>
				<dt:low value="20070501" />
			</adverseEventTime>
			<adverseEventStatus code="73425007" codeSystem="2.16.840.1.113883.6.96">
				<dt:displayName value="Inactive" />
			</adverseEventStatus>
			<severity code="371924009" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED CT">
				<dt:displayName value="Moderate to severe" />
			</severity>
		</clinicalStatement>
		<clinicalStatement xsi:type="EncounterEvent">

			<!-- Could not reproduce this statement from CCDA in VMR. Not sure what 
				it does since the organization type has been identified as Urgent Care Center. 
				<playingEntity classCode="PLC"> <name>Community Health and Hospitals</name> 
				</playingEntity> -->
			<templateId root="2.16.840.1.113883.3.1829.11.4.3.7"
				identifierName="Encounter Detail" />
			<id root="2a620155-9d11-439e-92b3-5d9815ff4de8" />
			<relatedEntity>
				<targetRole code="LOC" codeSystem="2.16.840.1.113883.5.90"
					codeSystemName="HL7 ParticipationType">
					<dt:displayName value="location" />
				</targetRole>
				<entity xsi:type="Organization">
					<entityType code="1160-1" codeSystem="2.16.840.1.113883.6.259"
						codeSystemName="HealthcareServiceLocation">
						<dt:displayName value="Urgent Care Center" />
					</entityType>
					<address>
						<dt:part type="SAL" value="1002 Healthcare Dr" />
						<dt:part type="CTY" value="Portland" />
						<dt:part type="STA" value="OR" />
						<dt:part type="ZIP" value="97266" />
						<dt:part type="CNT" value="US" />
					</address>
				</entity>
			</relatedEntity>
			<relatedClinicalStatement>
				<targetRole code="RSON" codeSystem="2.16.840.1.113883.5.90"
					codeSystemName="HL7 ParticipationType">
					<dt:displayName value="reason" />
				</targetRole>
				<clinicalStatement xsi:type="Problem">
					<templateId root="2.16.840.1.113883.3.1829.11.7.2.6"
						identifierName="Problem Detail" />
					<id root="db734647-fc99-424c-a864-7e3cda82e703" extension="45665" />
					<problemCode code="233604007" codeSystem="2.16.840.1.113883.6.96">
						<dt:displayName value="Pneumonia" />
					</problemCode>
					<problemEffectiveTime>
						<dt:low value="20120806" />
					</problemEffectiveTime>
				</clinicalStatement>
			</relatedClinicalStatement>

			<relatedClinicalStatement>
				<!-- DAVE SHIELDS, PLEASE REVIEW: This is supposed to be the admission 
					diagnosis. Not sure if this is the right place for it -->
				<targetRole code="SUBJ" codeSystem="2.16.840.1.113883.5.90"
					codeSystemName="HL7 ParticipationType">
					<dt:displayName value="subject" />
				</targetRole>
				<clinicalStatement xsi:type="Problem">
					<templateId root="2.16.840.1.113883.3.1829.11.7.2.16"
						identifierName="Encounter Diagnosis" />
					<id root="db734647-fc99-424c-a864-7e3cda82e703" extension="45665" />
					<problemCode code="233604007" codeSystem="2.16.840.1.113883.6.96">
						<dt:displayName value="Pneumonia" />
					</problemCode>
					<problemEffectiveTime>
						<dt:low value="20120806" />
					</problemEffectiveTime>
					<problemStatus code="55561003" codeSystem="2.16.840.1.113883.6.96"
						codeSystemName="SNOMED CT">
						<dt:displayName value="Active" />
					</problemStatus>
				</clinicalStatement>
			</relatedClinicalStatement>
			<encounterType code="440654001" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED CT">
				<!-- CCDA used CPT code. VMR template specifies use of SNOMED codes -->
				<dt:displayName value="Inpatient environment" />
			</encounterType>
			<encounterEventTime>
				<!-- In the CCDA, only one value was specified -->
				<dt:low value="20120806" />
				<dt:high value="20120806" />
			</encounterEventTime>
		</clinicalStatement>
		<clinicalStatement xsi:type="Problem">
			<templateId root="2.16.840.1.113883.3.1829.11.7.2.6"
				identifierName="Problem Detail" />
			<id root="ab1791b0-5c71-11db-b0de-0800200c9a66" />
			<problemCode code="195967001" codeSystem="2.16.840.1.113883.6.96">
				<dt:displayName value="Asthma" />
			</problemCode>
			<problemEffectiveTime>
				<dt:low value="20070103" />
			</problemEffectiveTime>
			<ageAtOnset unit="a" value="59" />
			<problemStatus code="55561003" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED CT">
				<dt:displayName value="Active" />
			</problemStatus>
			<!-- How to add Health Status = Symptom Free from CCDA? -->
		</clinicalStatement>
		<clinicalStatement xsi:type="SubstanceAdministrationOrder">
			<templateId root="2.16.840.1.113883.3.1829.11.9.2.5"
				identifierName="Prescription" />
			<id root="5a784260-6856-4f38-9638-80c751aff2fb" />
			<relatedClinicalStatement>
				<targetRole code="RSON" codeSystem="2.16.840.1.113883.5.90"
					codeSystemName="HL7 ParticipationType">
					<dt:displayName value="reason" />
				</targetRole>
				<clinicalStatement xsi:type="Problem">
					<templateId root="2.16.840.1.113883.3.1829.11.7.2.6"
						identifierName="Problem Detail" />
					<!-- Changed the id from the CCDA - since same id is used in encounter 
						reason -->
					<id root="313e0fc5-d750-40fa-855b-c860f7a6b911" extension="45666" />
					<problemCode code="32398004" codeSystem="2.16.840.1.113883.6.96">
						<dt:displayName value="Bronchitis" />
					</problemCode>
					<problemEffectiveTime>
						<dt:low value="20110113" />
					</problemEffectiveTime>
				</clinicalStatement>
			</relatedClinicalStatement>
			<!-- Did not include related clinical statements about supply intent and 
				supply event, though it is possible to do so in VMR. -->
			<deliveryRate>
				<dt:low value="110" unit="ml/min" />
				<dt:high value="110" unit="ml/min" />
			</deliveryRate>
			<deliveryRoute code="C38216" codeSystem="2.16.840.1.113883.3.26.1.1"
				codeSystemName="NCI Thesaurus">
				<dt:displayName value="RESPIRATORY (INHALATION)" />
			</deliveryRoute>
			<doseQuantity>
				<dt:low value="1" unit="mg/actuat" />
				<dt:high value="1" unit="mg/actuat" />
			</doseQuantity>
			<frequency xsi:type="FrequencyAsInterval">
				<intervalIsImportant value="false" />
				<period unit="h" value="24" />
			</frequency>
			<substance>
				<form code="324049" codeSystem="2.16.840.1.113883.6.88"
					codeSystemName="RxNorm">
					<dt:displayName value="Aerosol" />
				</form>
				<substanceCode code="896001" codeSystem="2.16.840.1.113883.6.88"
					codeSystemName="RxNorm">
					<dt:displayName
						value="120 ACTUAT Fluticasone propionate 0.11 MG/ACTUAT Metered Dose Inhaler" />
				</substanceCode>
			</substance>
			<substanceAdministrationGeneralPurpose
				code="18629005" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMED CT" />
			<administrationTimeInterval>
				<dt:low value="20120813" />
				<dt:high value="20120813" />
			</administrationTimeInterval>
		</clinicalStatement>

		<clinicalStatement xsi:type="ObservationResult">
			<!-- DAVID SHIELDS, PLEASE REVIEW: Should this observation have a result 
				value; like present or true -->
			<templateId root="2.16.840.1.113883.3.1829.11.11.2"
				identifierName="ValueDataTypeIsBL" />
			<id root="ab1791b0-5c71-11db-b0de-0800200c9a66" />
			<observationFocus code="105504002" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED CT">
				<dt:displayName value="Dependence on Cane" />
			</observationFocus>
			<observationEventTime>
				<dt:low value="20081101" />
			</observationEventTime>
			<observationValue>
				<value xsi:type="dt:BL" value="true" />
			</observationValue>
		</clinicalStatement>

		<clinicalStatement xsi:type="CompositeObservationResult">
			<!-- No template for composites yet -->
			<id root="7d5a02b0-67a4-11db-bd13-0800200c9a66" />
			<observationFocus code="43789009" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED CT">
				<dt:displayName value="CBC WO DIFFERENTIAL" />
			</observationFocus>
			<observationResult xsi:type="ObservationResult">
				<templateId root="2.16.840.1.113883.3.1829.11.11.10"
					identifierName="ValueDatatypeIsPQ" />
				<templateId root="2.16.840.1.113883.3.1829.11.6.3.7"
					identifierName="Observation Result with Interpretation" />
				<id root="107c2dc0-67a5-11db-bd13-0800200c9a66" />
				<observationFocus code="30313-1" codeSystem="2.16.840.1.113883.6.1"
					codeSystemName="LOINC">
					<dt:displayName value="HGB" />
				</observationFocus>
				<interpretation code="N" codeSystem="2.16.840.1.113883.5.83"
					codeSystemName="HL7 ObservationInterpretation" />
				<observationEventTime>
					<dt:low value="20120810" />
					<dt:high value="20120810" />
				</observationEventTime>
				<observationValue>
					<value xsi:type="dt:PQ" value="10.2" unit="g/dl" />
				</observationValue>
			</observationResult>
			<observationResult xsi:type="ObservationResult">
				<templateId root="2.16.840.1.113883.3.1829.11.11.10"
					identifierName="ValueDatatypeIsPQ" />
				<templateId root="2.16.840.1.113883.3.1829.11.6.3.7"
					identifierName="Observation Result with Interpretation" />
				<id root="107c2dc0-67a5-11db-bd13-0800200c9a66" />
				<observationFocus code="33765-9" codeSystem="2.16.840.1.113883.6.1"
					codeSystemName="LOINC">
					<dt:displayName value="WBC" />
				</observationFocus>
				<interpretation code="N" codeSystem="2.16.840.1.113883.5.83"
					codeSystemName="HL7 ObservationInterpretation" />
				<observationEventTime>
					<dt:low value="20120810" />
					<dt:high value="20120810" />
				</observationEventTime>
				<observationValue>
					<value xsi:type="dt:PQ" value="12.3" unit="10+3/ul" />
				</observationValue>
			</observationResult>
			<!-- There are other components to this composite result that are not 
				reproduced here. -->
		</clinicalStatement>

		<clinicalStatement xsi:type="ImagingProposal">
			<!-- Status code of new was not reproduced here. Probably not necessary 
				since proposal makes that status redundant -->
			<templateId root="2.16.840.1.113883.3.1829.11.8.3.4"
				identifierName="Imaging Proposal" />
			<id root="9a6d1bac-17d3-4195-89c4-1121bc809b5a" />
			<procedureCode code="168731009" codeSystem="2.16.840.1.113883.6.96"
				codeSystemName="SNOMED-CT">
				<dt:displayName value="Chest X-Ray" />
			</procedureCode>
			<proposedProcedureTime>
				<!-- CCDA has modeled the time as a "center" rather than high or low -->
				<dt:low value="20120826" />
			</proposedProcedureTime>
			<sedation value="false" />
		</clinicalStatement>
	</patient>
</vmr> 